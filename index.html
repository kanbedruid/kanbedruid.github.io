<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>千代 × 小德</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- 中文 + 冷静艺术感字体 -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@500;700&family=Inter:wght@300;400&display=swap" rel="stylesheet">

  <style>
    :root {
      --fg: #e8e8f0;
      --muted: #a0a0b8;
      --accent: #b7a8ff;
      --border-light: rgba(255,255,255,0.18);
      --bg-btn: rgba(255,255,255,0.03);
      --btn-backdrop-blur: 12px; /* 增加模糊度提升高级感 */
      --btn-shadow: 0 4px 20px rgba(0, 0, 0, 0.08); /* 新增按钮阴影 */
      --btn-hover-shadow: 0 8px 30px rgba(0, 0, 0, 0.12); /* 新增hover阴影 */
    }

    * {
      box-sizing: border-box;
    }

    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: auto;
      color: var(--fg);
      font-family: Inter, sans-serif;
      /* 默认星空背景 */
      background:
        radial-gradient(1200px 800px at 20% 10%, #1b1f3b 0%, transparent 60%),
        radial-gradient(1000px 700px at 80% 20%, #2a174a 0%, transparent 65%),
        linear-gradient(180deg, #090b16, #05060c);
      transition: background 1s ease-in-out;
      scroll-behavior: smooth;
    }

    canvas {
      position: fixed;
      inset: 0;
      z-index: 0;
    }

    main {
      position: relative;
      z-index: 1;
      min-height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 60px 20px 80px;
    }

    .container {
      text-align: center;
      max-width: 800px;
      width: 100%;
    }

    h1 {
      font-family: "Noto Serif SC", serif;
      font-size: 46px;
      letter-spacing: 4px;
      margin-bottom: 12px;
      transition: color 1s ease-in-out, text-shadow 1s ease-in-out; /* 新增文字阴影过渡 */
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); /* 新增文字阴影提升质感 */
    }

    .subtitle {
      font-size: 14px;
      letter-spacing: 6px;
      color: var(--muted);
      margin-bottom: 30px;
      transition: color 1s ease-in-out, text-shadow 1s ease-in-out;
      text-shadow: 0 1px 5px rgba(0, 0, 0, 0.08); /* 新增文字阴影 */
    }

    /* 日历 + 主按钮 并排容器 */
    .calendar-main-wrap {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 30px;
      margin-bottom: 40px;
      width: 100%;
    }

    /* 小型日历表格 */
    .mini-calendar {
      width: 220px;
      border: 1px solid var(--border-light);
      backdrop-filter: blur(var(--btn-backdrop-blur));
      border-radius: 12px; /* 增大圆角更柔和 */
      overflow: hidden;
      flex-shrink: 0;
      position: relative;
      z-index: 1;
      transition: background 1s ease-in-out, border-color 1s ease-in-out, color 1s ease-in-out, box-shadow 0.3s ease;
      box-shadow: var(--btn-shadow); /* 新增日历阴影 */
    }

    .calendar-header {
      padding: 8px;
      background: var(--bg-btn);
      border-bottom: 1px solid var(--border-light);
      transition: background 1s ease-in-out, border-color 1s ease-in-out;
    }

    .calendar-week, .calendar-days {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
    }

    .calendar-week span, .calendar-days span {
      padding: 6px;
      font-size: 12px;
      text-align: center;
      transition: color 1s ease-in-out;
    }

    .calendar-week span {
      color: var(--muted);
      letter-spacing: 1px;
    }

    .calendar-days span {
      color: var(--fg);
      cursor: default;
    }

    .calendar-days span.current {
      color: var(--accent);
      font-weight: 500;
      text-shadow: 0 0 8px rgba(183, 168, 255, 0.5); /* 新增今日日期发光效果 */
    }

    /* 核心按钮布局 */
    .main-btn {
      position: relative;
      padding: 40px 26px;
      border: 1px solid var(--border-light);
      background: var(--bg-btn);
      backdrop-filter: blur(var(--btn-backdrop-blur));
      cursor: pointer;
      overflow: hidden;
      transition: transform 0.3s ease, border-color 0.3s ease, background 1s ease-in-out, box-shadow 0.3s ease;
      border-radius: 12px; /* 增大圆角 */
      flex: 1;
      min-width: 300px;
      z-index: 1;
      box-shadow: var(--btn-shadow); /* 新增按钮阴影 */
    }

    .secondary-buttons {
      display: flex;
      flex-direction: column;
      gap: 40px;
      width: 100%;
    }

    .health-btn {
      position: relative;
      padding: 30px 26px;
      border: 1px solid var(--border-light);
      background: var(--bg-btn);
      backdrop-filter: blur(var(--btn-backdrop-blur));
      cursor: pointer;
      overflow: hidden;
      transition: transform 0.3s ease, border-color 0.3s ease, background 1s ease-in-out, box-shadow 0.3s ease;
      border-radius: 12px; /* 增大圆角 */
      width: 100%;
      z-index: 1;
      box-shadow: var(--btn-shadow); /* 新增按钮阴影 */
    }

    .side-by-side {
      display: flex;
      gap: 20px;
      width: 100%;
    }

    .wish-btn {
      position: relative;
      padding: 60px 26px;
      border: 1px solid var(--border-light);
      background: var(--bg-btn);
      backdrop-filter: blur(var(--btn-backdrop-blur));
      cursor: pointer;
      overflow: hidden;
      transition: transform 0.3s ease, border-color 0.3s ease, background 1s ease-in-out, box-shadow 0.3s ease;
      border-radius: 12px; /* 增大圆角 */
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      z-index: 1;
      box-shadow: var(--btn-shadow); /* 新增按钮阴影 */
    }

    .food-area {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 16px;
      z-index: 1;
    }

    .food-prefer-btn {
      position: relative;
      padding: 60px 26px;
      border: 1px solid var(--border-light);
      background: var(--bg-btn);
      backdrop-filter: blur(var(--btn-backdrop-blur));
      cursor: pointer;
      overflow: hidden;
      transition: transform 0.3s ease, border-color 0.3s ease, background 1s ease-in-out, box-shadow 0.3s ease;
      border-radius: 12px; /* 增大圆角 */
      width: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      z-index: 1;
      box-shadow: var(--btn-shadow); /* 新增按钮阴影 */
    }

    .food-rank-link {
      font-size: 13px;
      color: var(--muted);
      text-decoration: underline;
      text-decoration-color: var(--border-light);
      cursor: pointer;
      transition: color 0.3s ease, text-decoration-color 0.3s ease, text-shadow 0.3s ease;
      align-self: center;
      z-index: 1;
    }

    .food-rank-link:hover {
      color: var(--accent);
      text-decoration-color: var(--accent);
      text-shadow: 0 0 6px rgba(255, 152, 0, 0.3); /* 新增链接hover发光 */
    }

    /* 按钮光斑效果 */
    .main-btn::before, .health-btn::before, .wish-btn::before, .food-prefer-btn::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(
        circle at var(--x, 50%) var(--y, 50%),
        rgba(183,168,255,0.35),
        transparent 65%
      );
      opacity: 0;
      transition: opacity 0.3s;
      z-index: 0;
    }

    .main-btn:hover::before, .health-btn:hover::before, .wish-btn:hover::before, .food-prefer-btn:hover::before {
      opacity: 1;
    }

    .main-btn:hover, .health-btn:hover, .wish-btn:hover, .food-prefer-btn:hover {
      transform: translateY(-5px);
      border-color: var(--accent);
      box-shadow: var(--btn-hover-shadow); /* hover时增强阴影 */
    }

    .main-btn:active, .health-btn:active, .wish-btn:active, .food-prefer-btn:active {
      transform: scale(0.97);
      box-shadow: var(--btn-shadow); /* 点击时恢复原阴影 */
    }

    .btn-title {
      font-family: "Noto Serif SC", serif;
      font-size: 22px;
      margin-bottom: 10px;
      transition: color 1s ease-in-out, text-shadow 1s ease-in-out;
      z-index: 1;
      position: relative;
      text-shadow: 0 1px 6px rgba(0, 0, 0, 0.08); /* 新增按钮标题阴影 */
    }

    .main-btn .btn-title {
      font-size: 26px;
    }

    .btn-desc {
      font-size: 13px;
      color: var(--muted);
      line-height: 1.7;
      transition: color 1s ease-in-out, text-shadow 1s ease-in-out;
      z-index: 1;
      position: relative;
      text-shadow: 0 1px 3px rgba(0, 0, 0, 0.05); /* 新增按钮描述阴影 */
    }

    footer {
      position: fixed;
      bottom: 22px;
      width: 100%;
      text-align: center;
      font-size: 12px;
      color: var(--muted);
      letter-spacing: 3px;
      z-index: 1;
      transition: color 1s ease-in-out, text-shadow 1s ease-in-out;
      text-shadow: 0 1px 5px rgba(0, 0, 0, 0.08); /* 新增页脚文字阴影 */
    }

    @media (max-width: 640px) {
      h1 { font-size: 34px; }
      .calendar-main-wrap {
        flex-direction: column;
        gap: 20px;
      }
      .main-btn {
        min-width: unset;
        width: 100%;
      }
      .side-by-side {
        flex-direction: column;
      }
      .wish-btn, .food-prefer-btn {
        padding: 30px 26px;
      }
    }
  </style>
</head>

<body>
  <canvas id="bg"></canvas>

  <main>
    <div class="container">
      <h1>千代 × 小德</h1>
      <div class="subtitle">我们的记录</div>

      <!-- 日历 + 主按钮 并排容器 -->
      <div class="calendar-main-wrap">
        <!-- 自动更新的日历 -->
        <div class="mini-calendar" id="miniCalendar">
          <div class="calendar-header">
            <span id="calendarMonth" style="font-size: 14px; letter-spacing: 2px;">2026 · 01</span>
          </div>
          <div class="calendar-week">
            <span>日</span>
            <span>一</span>
            <span>二</span>
            <span>三</span>
            <span>四</span>
            <span>五</span>
            <span>六</span>
          </div>
          <div id="calendarDaysContainer"></div>
        </div>

        <!-- 主按钮 -->
        <div class="main-btn" onclick="location.href='https://kanbedruid.github.io/days/'">
          <div class="btn-title">我们的每一天</div>
          <div class="btn-desc">记忆中的重要时光</div>
        </div>
      </div>

      <!-- 下方二级按钮区域 -->
      <div class="secondary-buttons">
        <div class="health-btn" onclick="location.href='https://kanbedruid.github.io/weight/'">
          <div class="btn-title">健康生活</div>
          <div class="btn-desc">调整作息 赢得积分</div>
        </div>

        <div class="side-by-side">
          <div class="wish-btn" onclick="location.href='https://kanbedruid.github.io/list'">
            <div class="btn-title">愿望清单</div>
            <div class="btn-desc">写下想要的东西 总有一天会实现</div>
          </div>

          <div class="food-area">
            <div class="food-prefer-btn" onclick="location.href='https://kanbedruid.github.io/like'">
              <div class="btn-title">美食偏好</div>
              <div class="btn-desc">想想今天吃什么</div>
            </div>
            <div class="food-rank-link" onclick="location.href='https://kanbedruid.github.io/food/'">→ 小德的饭店排名</div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <footer>
    一起走向未来
  </footer>

  <script>
    // === 全局配置 ===
    const canvas = document.getElementById("bg");
    const ctx = canvas.getContext("2d");
    let w, h;

    // 季节枚举（仅保留星空和夏天）
    const SEASONS = {
      STARRY: 0,
      SUMMER: 1
    };
    let currentSeason = SEASONS.STARRY;

    // === 星空配置 ===
    let stars = [];
    const STAR_COUNT = 140;
    const trails = [];

    // === 夏天配置（海浪+水珠） ===
    let waves = [];
    let drops = [];
    const WAVE_COUNT = 3;
    const DROP_TYPES = [
      { size: 6, count: [3, 6], fadeTime: 6000 },
      { size: 3, count: [3, 6], fadeTime: 4000 },
      { size: 1.5, count: [6, 12], fadeTime: 2000 }
    ];
    let lastWaveTime = 0;
    const WAVE_INTERVAL_RANGE = [3000, 7000];

    // 鼠标状态
    const mouse = { x: w / 2, y: h / 2, prevX: w / 2, prevY: h / 2, speedX: 0, speedY: 0 };

    // === 初始化 ===
    function init() {
      resize();
      initSeasonResources();
      initCalendar(); // 初始化自动日历
      checkTimeAndSwitchSeason(); // 首次检测时间
      setInterval(checkTimeAndSwitchSeason, 60000); // 每分钟检测一次时间
      animate();
    }

    // === 画布调整 ===
    function resize() {
      w = canvas.width = window.innerWidth;
      h = canvas.height = window.innerHeight;
      mouse.x = w / 2;
      mouse.y = h / 2;
      resetSeasonResources();
    }

    // === 季节资源初始化 ===
    function initSeasonResources() {
      // 星空初始化
      stars = Array.from({ length: STAR_COUNT }, () => ({
        x: Math.random() * w,
        y: Math.random() * h,
        r: Math.random() * 1.8 + 0.6,
        vx: (Math.random() - 0.5) * 0.25,
        vy: (Math.random() - 0.5) * 0.25
      }));

      // 夏天初始化
      waves = Array.from({ length: WAVE_COUNT }, (_, i) => ({
        y: h - 100 - i * 30,
        amplitude: 20 + i * 10,
        frequency: 0.01 - i * 0.002,
        speed: (0.02 + i * 0.005) / 2, // 速度减半
        phase: Math.random() * Math.PI * 2
      }));
      drops = [];
    }

    // === 重置季节资源 ===
    function resetSeasonResources() {
      switch (currentSeason) {
        case SEASONS.STARRY:
          stars = Array.from({ length: STAR_COUNT }, () => ({
            x: Math.random() * w,
            y: Math.random() * h,
            r: Math.random() * 1.8 + 0.6,
            vx: (Math.random() - 0.5) * 0.25,
            vy: (Math.random() - 0.5) * 0.25
          }));
          break;
        case SEASONS.SUMMER:
          waves = Array.from({ length: WAVE_COUNT }, (_, i) => ({
            y: h - 100 - i * 30,
            amplitude: 20 + i * 10,
            frequency: 0.01 - i * 0.002,
            speed: (0.02 + i * 0.005) / 2,
            phase: Math.random() * Math.PI * 2
          }));
          drops = [];
          break;
      }
    }

    // === 按时间切换季节（6:00-18:00夏天，其余星空） ===
    function checkTimeAndSwitchSeason() {
      const now = new Date();
      const hour = now.getHours();
      const targetSeason = (hour >= 6 && hour < 18) ? SEASONS.SUMMER : SEASONS.STARRY;

      if (targetSeason !== currentSeason) {
        currentSeason = targetSeason;
        updateSeasonStyle();
        resetSeasonResources();
      }
    }

    // === 更新季节样式 ===
    function updateSeasonStyle() {
      const body = document.body;
      const root = document.documentElement;
      const h1 = document.querySelector("h1");
      const subtitle = document.querySelector(".subtitle");
      const footer = document.querySelector("footer");
      const allButtons = document.querySelectorAll(".main-btn, .health-btn, .wish-btn, .food-prefer-btn, .mini-calendar");

      switch (currentSeason) {
        case SEASONS.STARRY:
          body.style.background = `
            radial-gradient(1200px 800px at 20% 10%, #1b1f3b 0%, transparent 60%),
            radial-gradient(1000px 700px at 80% 20%, #2a174a 0%, transparent 65%),
            linear-gradient(180deg, #090b16, #05060c)
          `;
          root.style.setProperty("--fg", "#e8e8f0");
          root.style.setProperty("--muted", "#a0a0b8");
          root.style.setProperty("--accent", "#b7a8ff");
          root.style.setProperty("--border-light", "rgba(255,255,255,0.18)");
          root.style.setProperty("--bg-btn", "rgba(255,255,255,0.03)");
          break;
        case SEASONS.SUMMER:
          // 夏日背景：顶部粉红色 → 浅蓝色 → 沙滩黄（渐变更有层次）
          body.style.background = `
            linear-gradient(180deg, #ffc0cb, #87ceeb, #f5deb3),
            linear-gradient(to bottom, #ffc0cb 0%, #87ceeb 50%, #fffacd 100%)
          `;
          root.style.setProperty("--fg", "#1a365d"); // 加深文字颜色，更高级
          root.style.setProperty("--muted", "#4a6fa5"); // 调整浅文字颜色，提升对比度
          root.style.setProperty("--accent", "#ff7f7f"); // 改为粉橙色，贴合夏日渐变
          root.style.setProperty("--border-light", "rgba(26, 54, 93, 0.2)"); // 边框贴合文字颜色
          root.style.setProperty("--bg-btn", "rgba(255, 255, 255, 0.18)"); // 提高按钮透明度，更通透
          break;
      }

      // 更新文字和按钮样式
      h1.style.color = getComputedStyle(root).getPropertyValue("--fg");
      subtitle.style.color = getComputedStyle(root).getPropertyValue("--muted");
      footer.style.color = getComputedStyle(root).getPropertyValue("--muted");
      allButtons.forEach(btn => {
        btn.style.borderColor = getComputedStyle(root).getPropertyValue("--border-light");
        btn.style.background = getComputedStyle(root).getPropertyValue("--bg-btn");
      });
    }

    // === 自动日历生成逻辑 ===
    function initCalendar() {
      const now = new Date();
      const year = now.getFullYear();
      const month = now.getMonth(); // 0-11
      const today = now.getDate();

      // 更新日历标题（年·月）
      document.getElementById("calendarMonth").textContent = `${year} · ${String(month + 1).padStart(2, "0")}`;

      // 获取当月第一天是星期几（0-6，0是周日）
      const firstDayOfMonth = new Date(year, month, 1).getDay();
      // 获取当月总天数
      const daysInMonth = new Date(year, month + 1, 0).getDate();

      const daysContainer = document.getElementById("calendarDaysContainer");
      daysContainer.innerHTML = "";

      let dayCount = 0;
      // 生成6行日历（覆盖所有月份的天数布局）
      for (let i = 0; i < 6; i++) {
        const dayRow = document.createElement("div");
        dayRow.className = "calendar-days";

        for (let j = 0; j < 7; j++) {
          const daySpan = document.createElement("span");
          // 第一行：填充月初前的空白
          if (i === 0 && j < firstDayOfMonth) {
            daySpan.textContent = "";
          } else {
            dayCount++;
            if (dayCount > daysInMonth) {
              daySpan.textContent = "";
            } else {
              daySpan.textContent = dayCount;
              // 标记今天
              if (dayCount === today) {
                daySpan.className = "current";
              }
            }
          }
          dayRow.appendChild(daySpan);
        }
        daysContainer.appendChild(dayRow);
      }
    }

    // === 星空更新与绘制 ===
    function updateStars() {
      for (const star of stars) {
        star.x += star.vx;
        star.y += star.vy;
        if (star.x < 0 || star.x > w) star.vx *= -1;
        if (star.y < 0 || star.y > h) star.vy *= -1;
      }
    }

    function drawStars() {
      for (const star of stars) {
        ctx.beginPath();
        ctx.arc(star.x, star.y, star.r, 0, Math.PI * 2);
        ctx.fillStyle = "rgba(200,190,255,0.5)";
        ctx.fill();
      }
    }

    function updateTrails() {
      if (currentSeason !== SEASONS.STARRY) return;
      trails.push({ x: mouse.x, y: mouse.y, life: 60 });
      for (let i = trails.length - 1; i >= 0; i--) {
        trails[i].life--;
        if (trails[i].life <= 0) trails.splice(i, 1);
      }
    }

    function drawTrails() {
      if (currentSeason !== SEASONS.STARRY) return;
      for (const t of trails) {
        const alpha = t.life / 60;
        ctx.beginPath();
        ctx.arc(t.x, t.y, 18 * alpha, 0, Math.PI * 2);
        ctx.fillStyle = `rgba(150,200,255,${alpha * 0.35})`;
        ctx.fill();
      }
    }

    // === 夏天更新与绘制 ===
    function updateSummer() {
      const now = Date.now();
      // 更新海浪
      for (const wave of waves) {
        wave.phase += wave.speed;
      }
      // 生成水珠
      if (now - lastWaveTime > Math.random() * (WAVE_INTERVAL_RANGE[1] - WAVE_INTERVAL_RANGE[0]) + WAVE_INTERVAL_RANGE[0]) {
        generateDrops();
        lastWaveTime = now;
      }
      // 更新水珠
      for (let i = drops.length - 1; i >= 0; i--) {
        const drop = drops[i];
        drop.age += 16;
        drop.alpha = 1 - (drop.age / drop.fadeTime);
        drop.y += drop.speed * 0.5;
        drop.vx *= 0.98;
        drop.x += drop.vx;

        // 限制水珠不超过屏幕一半高度，且不与波浪重合
        const maxDropY = h / 2; // 屏幕一半高度为上限
        const minDropY = waves[0].y - 100; // 最上方海浪上方100px为下限（避免重合）
        if (drop.alpha <= 0 || drop.y > maxDropY || drop.y < minDropY) {
          drops.splice(i, 1);
        }
      }
    }

    function generateDrops() {
      DROP_TYPES.forEach(type => {
        const count = Math.floor(Math.random() * (type.count[1] - type.count[0]) + type.count[0]);
        for (let i = 0; i < count; i++) {
          // 限定水珠生成区域：
          // 1. X轴：全屏范围
          // 2. Y轴：最上方海浪上方20px 到 屏幕一半高度（h/2），且不低于海浪上方
          const topWaveY = waves[0].y; // 最上方海浪的Y坐标
          const minY = topWaveY - 20; // 海浪上方20px（避免重合）
          const maxY = h / 2; // 屏幕一半高度（不超过顶部半屏）
          const dropY = Math.random() * (maxY - minY) + minY;

          drops.push({
            x: Math.random() * w,
            y: dropY,
            size: type.size,
            speed: Math.random() * 0.3 + 0.1,
            vx: (Math.random() - 0.5) * 1.5,
            alpha: 1,
            age: 0,
            fadeTime: type.fadeTime
          });
        }
      });
    }

    function drawSummer() {
      // 绘制海浪
      for (let i = 0; i < waves.length; i++) {
        const wave = waves[i];
        ctx.beginPath();
        ctx.moveTo(0, wave.y);
        for (let x = 0; x <= w; x += 5) {
          const y = wave.y + Math.sin(x * wave.frequency + wave.phase) * wave.amplitude;
          ctx.lineTo(x, y);
        }
        ctx.lineTo(w, h);
        ctx.lineTo(0, h);
        ctx.closePath();
        const opacity = 0.3 - (i * 0.1);
        ctx.fillStyle = `rgba(0, 191, 255, ${opacity})`;
        ctx.fill();
      }
      // 绘制水珠
      for (const drop of drops) {
        ctx.globalAlpha = drop.alpha;
        ctx.fillStyle = "rgba(255, 255, 255, 0.9)";
        ctx.beginPath();
        ctx.arc(drop.x, drop.y, drop.size, 0, Math.PI * 2);
        ctx.fill();
        ctx.globalAlpha = 1;
      }
    }

    // === 鼠标状态更新 ===
    function updateMouse(e) {
      mouse.prevX = mouse.x;
      mouse.prevY = mouse.y;
      mouse.x = e.clientX;
      mouse.y = e.clientY;
      mouse.speedX = (mouse.x - mouse.prevX) * 0.3;
      mouse.speedY = (mouse.y - mouse.prevY) * 0.3;
    }

    // === 主动画循环 ===
    function animate() {
      ctx.clearRect(0, 0, w, h);
      switch (currentSeason) {
        case SEASONS.STARRY:
          updateStars();
          updateTrails();
          drawStars();
          drawTrails();
          break;
        case SEASONS.SUMMER:
          updateSummer();
          drawSummer();
          break;
      }
      // 按钮光斑跟随
      document.querySelectorAll(".main-btn, .health-btn, .wish-btn, .food-prefer-btn").forEach(btn => {
        btn.addEventListener("mousemove", e => {
          const rect = btn.getBoundingClientRect();
          btn.style.setProperty("--x", `${e.clientX - rect.left}px`);
          btn.style.setProperty("--y", `${e.clientY - rect.top}px`);
        });
      });
      requestAnimationFrame(animate);
    }

    // === 事件监听 ===
    window.addEventListener("resize", resize);
    window.addEventListener("mousemove", updateMouse);
    window.onload = init;
  </script>
</body>
</html>
